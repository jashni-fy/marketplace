(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[469],{8834:function(e,t,r){Promise.resolve().then(r.bind(r,6241))},6241:function(e,t,r){"use strict";var o=r(7437),s=r(2265),a=r(9376),n=r(2617);t.default=()=>{let[e,t]=(0,s.useState)([]),[r,c]=(0,s.useState)(!0),[i,l]=(0,s.useState)(""),[u,d]=(0,s.useState)(""),g=(0,a.useSearchParams)();(0,s.useEffect)(()=>{let e=g.get("search")||"",t=g.get("category")||"";l(e),d(t),p({search:e,category:t})},[g]);let p=async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};try{c(!0);let r=await n.E.services.search({q:e.search||i,category:e.category||u,status:"active"});t(r.data.services||[])}catch(e){console.error("Error loading services:",e),t([])}finally{c(!1)}};return r?(0,o.jsx)("div",{className:"min-h-screen flex items-center justify-center",children:(0,o.jsx)("div",{className:"animate-spin rounded-full h-32 w-32 border-b-2 border-blue-500"})}):(0,o.jsx)("div",{className:"service-search",children:(0,o.jsxs)("div",{className:"container mx-auto px-4 py-8",children:[(0,o.jsx)("h1",{className:"text-3xl font-bold mb-8",children:"Search Services"}),(0,o.jsx)("form",{onSubmit:e=>{e.preventDefault(),p()},className:"mb-8",children:(0,o.jsxs)("div",{className:"flex gap-4",children:[(0,o.jsx)("input",{type:"text",placeholder:"Search services...",value:i,onChange:e=>l(e.target.value),className:"flex-1 px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"}),(0,o.jsxs)("select",{value:u,onChange:e=>d(e.target.value),className:"px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",children:[(0,o.jsx)("option",{value:"",children:"All Categories"}),(0,o.jsx)("option",{value:"photography",children:"Photography"}),(0,o.jsx)("option",{value:"videography",children:"Videography"}),(0,o.jsx)("option",{value:"event-management",children:"Event Management"}),(0,o.jsx)("option",{value:"catering",children:"Catering"})]}),(0,o.jsx)("button",{type:"submit",className:"px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700",children:"Search"})]})}),(0,o.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:e.map(e=>(0,o.jsxs)("div",{className:"bg-white p-6 rounded-lg shadow-md",children:[(0,o.jsx)("h3",{className:"text-xl font-semibold mb-2",children:e.name}),(0,o.jsx)("p",{className:"text-gray-600 mb-4",children:e.description}),(0,o.jsxs)("div",{className:"flex justify-between items-center",children:[(0,o.jsxs)("span",{className:"text-lg font-bold text-green-600",children:["$",e.base_price,"hourly"===e.pricing_type&&"/hr"]}),(0,o.jsx)("button",{className:"bg-blue-600 text-white px-4 py-2 rounded hover:bg-blue-700",children:"View Details"})]})]},e.id))}),0===e.length&&!r&&(0,o.jsx)("div",{className:"text-center py-12",children:(0,o.jsx)("p",{className:"text-gray-600",children:"No services found. Try adjusting your search criteria."})})]})})}},2617:function(e,t,r){"use strict";r.d(t,{E:function(){return n}});var o=r(3464),s=r(1362);let a=o.Z.create({baseURL:"/api",headers:{"Content-Type":"application/json"}});a.interceptors.request.use(e=>{let t=s.G.getToken();return t&&!s.G.isTokenExpired()&&(e.headers.Authorization="Bearer ".concat(t)),e},e=>Promise.reject(e)),a.interceptors.response.use(e=>e,e=>{var t;return(null===(t=e.response)||void 0===t?void 0:t.status)===401&&(s.G.clearAuthData(),window.location.href="/login"),Promise.reject(e)});let n={auth:{login:e=>a.post("/auth/login",e),register:e=>a.post("/auth/register",e),logout:()=>a.delete("/auth/logout")},users:{getById:e=>a.get("/users/".concat(e)),update:(e,t)=>a.put("/users/".concat(e),t),uploadAvatar:(e,t)=>{let r=new FormData;return r.append("avatar",t),a.post("/users/".concat(e,"/upload_avatar"),r,{headers:{"Content-Type":"multipart/form-data"}})}},profiles:{me:()=>a.get("/profiles/me"),serviceCategories:()=>a.get("/profiles/service_categories"),getById:e=>a.get("/profiles/".concat(e)),create:e=>a.post("/profiles",e),update:(e,t)=>a.put("/profiles/".concat(e),t),delete:e=>a.delete("/profiles/".concat(e))},services:{getAll:e=>a.get("/services",{params:e}),getById:e=>a.get("/services/".concat(e)),create:e=>a.post("/services",e),update:(e,t)=>a.put("/services/".concat(e),t),delete:e=>a.delete("/services/".concat(e)),search:e=>a.get("/services/search",{params:e}),images:{list:e=>a.get("/services/".concat(e,"/images")),upload:(e,t)=>{let r=new FormData;return r.append("image",t),a.post("/services/".concat(e,"/images"),r,{headers:{"Content-Type":"multipart/form-data"}})},reorder:(e,t)=>a.post("/services/".concat(e,"/images/reorder"),t),bulkUpload:(e,t)=>{let r=new FormData;return t.forEach(e=>r.append("images[]",e)),a.post("/services/".concat(e,"/images/bulk_upload"),r,{headers:{"Content-Type":"multipart/form-data"}})},setPrimary:(e,t)=>a.post("/services/".concat(e,"/images/").concat(t,"/set_primary")),delete:(e,t)=>a.delete("/services/".concat(e,"/images/").concat(t))}},vendors:{getAll:e=>a.get("/vendors",{params:e}),getById:e=>a.get("/vendors/".concat(e)),getServices:e=>a.get("/vendors/".concat(e,"/services")),getAvailability:(e,t)=>a.get("/vendors/".concat(e,"/availability"),{params:t}),getPortfolio:(e,t)=>a.get("/vendors/".concat(e,"/portfolio"),{params:t}),getReviews:(e,t)=>a.get("/vendors/".concat(e,"/reviews"),{params:t}),portfolioItems:e=>a.get("/vendors/".concat(e,"/portfolio_items"))},portfolioItems:{getAll:e=>a.get("/portfolio_items",{params:e}),getById:e=>a.get("/portfolio_items/".concat(e)),create:e=>a.post("/portfolio_items",e),update:(e,t)=>a.put("/portfolio_items/".concat(e),t),delete:e=>a.delete("/portfolio_items/".concat(e)),uploadImages:(e,t)=>{let r=new FormData;return t.forEach(e=>r.append("images[]",e)),a.post("/portfolio_items/".concat(e,"/upload_images"),r,{headers:{"Content-Type":"multipart/form-data"}})},removeImage:(e,t)=>a.delete("/portfolio_items/".concat(e,"/remove_image/").concat(t)),duplicate:e=>a.post("/portfolio_items/".concat(e,"/duplicate")),summary:()=>a.get("/portfolio_items/summary"),reorder:e=>a.post("/portfolio_items/reorder",e),setFeatured:e=>a.patch("/portfolio_items/set_featured",e)},bookings:{getAll:e=>a.get("/bookings",{params:e}),getById:e=>a.get("/bookings/".concat(e)),create:e=>a.post("/bookings",e),update:(e,t)=>a.put("/bookings/".concat(e),t),delete:e=>a.delete("/bookings/".concat(e)),respond:(e,t)=>a.post("/bookings/".concat(e,"/respond"),t),messages:e=>a.get("/bookings/".concat(e,"/messages")),sendMessage:(e,t)=>a.post("/bookings/".concat(e,"/send_message"),t)},availabilitySlots:{getAll:e=>a.get("/availability_slots",{params:e}),create:e=>a.post("/availability_slots",e),update:(e,t)=>a.put("/availability_slots/".concat(e),t),delete:e=>a.delete("/availability_slots/".concat(e)),bulkCreate:e=>a.post("/availability_slots/bulk_create",e),checkConflicts:e=>a.get("/availability_slots/check_conflicts",{params:e})}};t.Z=a},1362:function(e,t,r){"use strict";r.d(t,{G:function(){return c}});let o="authToken",s="user",a="refreshToken";class n{getToken(){return localStorage.getItem(o)}setToken(e){e?localStorage.setItem(o,e):localStorage.removeItem(o)}getUser(){let e=localStorage.getItem(s);try{return e?JSON.parse(e):null}catch(e){return console.error("Error parsing stored user:",e),this.removeUser(),null}}setUser(e){e?localStorage.setItem(s,JSON.stringify(e)):localStorage.removeItem(s)}removeUser(){localStorage.removeItem(s)}getRefreshToken(){return localStorage.getItem(a)}setRefreshToken(e){e?localStorage.setItem(a,e):localStorage.removeItem(a)}clearAuthData(){localStorage.removeItem(o),localStorage.removeItem(s),localStorage.removeItem(a)}hasToken(){return!!this.getToken()}isTokenExpired(){let e=this.getToken();if(!e)return!0;try{let t=JSON.parse(atob(e.split(".")[1])),r=Date.now()/1e3;return t.exp<r}catch(e){return console.error("Error checking token expiration:",e),!0}}getTokenPayload(){let e=this.getToken();if(!e)return null;try{return JSON.parse(atob(e.split(".")[1]))}catch(e){return console.error("Error decoding token payload:",e),null}}}let c=new n},9376:function(e,t,r){"use strict";var o=r(5475);r.o(o,"useParams")&&r.d(t,{useParams:function(){return o.useParams}}),r.o(o,"useRouter")&&r.d(t,{useRouter:function(){return o.useRouter}}),r.o(o,"useSearchParams")&&r.d(t,{useSearchParams:function(){return o.useSearchParams}})}},function(e){e.O(0,[464,971,117,744],function(){return e(e.s=8834)}),_N_E=e.O()}]);