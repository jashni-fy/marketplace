(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[185],{113:function(e,t,r){Promise.resolve().then(r.bind(r,3606)),Promise.resolve().then(r.bind(r,4705)),Promise.resolve().then(r.bind(r,876)),Promise.resolve().then(r.t.bind(r,7602,23)),Promise.resolve().then(r.t.bind(r,6050,23))},3606:function(e,t,r){"use strict";r.d(t,{Toaster:function(){return s}});var o=r(7437),a=r(4438);let s=e=>{let{...t}=e;return(0,o.jsx)(a.x7,{theme:"light",className:"toaster group",style:{"--normal-bg":"var(--popover)","--normal-text":"var(--popover-foreground)","--normal-border":"var(--border)"},...t})}},2617:function(e,t,r){"use strict";r.d(t,{E:function(){return n}});var o=r(3464),a=r(1362);let s=o.Z.create({baseURL:"/api",headers:{"Content-Type":"application/json"}});s.interceptors.request.use(e=>{let t=a.G.getToken();return t&&!a.G.isTokenExpired()&&(e.headers.Authorization="Bearer ".concat(t)),e},e=>Promise.reject(e)),s.interceptors.response.use(e=>e,e=>{var t;return(null===(t=e.response)||void 0===t?void 0:t.status)===401&&(a.G.clearAuthData(),window.location.href="/login"),Promise.reject(e)});let n={auth:{login:e=>s.post("/auth/login",e),register:e=>s.post("/auth/register",e),logout:()=>s.delete("/auth/logout")},users:{getById:e=>s.get("/users/".concat(e)),update:(e,t)=>s.put("/users/".concat(e),t),uploadAvatar:(e,t)=>{let r=new FormData;return r.append("avatar",t),s.post("/users/".concat(e,"/upload_avatar"),r,{headers:{"Content-Type":"multipart/form-data"}})}},profiles:{me:()=>s.get("/profiles/me"),serviceCategories:()=>s.get("/profiles/service_categories"),getById:e=>s.get("/profiles/".concat(e)),create:e=>s.post("/profiles",e),update:(e,t)=>s.put("/profiles/".concat(e),t),delete:e=>s.delete("/profiles/".concat(e))},services:{getAll:e=>s.get("/services",{params:e}),getById:e=>s.get("/services/".concat(e)),create:e=>s.post("/services",e),update:(e,t)=>s.put("/services/".concat(e),t),delete:e=>s.delete("/services/".concat(e)),search:e=>s.get("/services/search",{params:e}),images:{list:e=>s.get("/services/".concat(e,"/images")),upload:(e,t)=>{let r=new FormData;return r.append("image",t),s.post("/services/".concat(e,"/images"),r,{headers:{"Content-Type":"multipart/form-data"}})},reorder:(e,t)=>s.post("/services/".concat(e,"/images/reorder"),t),bulkUpload:(e,t)=>{let r=new FormData;return t.forEach(e=>r.append("images[]",e)),s.post("/services/".concat(e,"/images/bulk_upload"),r,{headers:{"Content-Type":"multipart/form-data"}})},setPrimary:(e,t)=>s.post("/services/".concat(e,"/images/").concat(t,"/set_primary")),delete:(e,t)=>s.delete("/services/".concat(e,"/images/").concat(t))}},vendors:{getAll:e=>s.get("/vendors",{params:e}),getById:e=>s.get("/vendors/".concat(e)),getServices:e=>s.get("/vendors/".concat(e,"/services")),getAvailability:(e,t)=>s.get("/vendors/".concat(e,"/availability"),{params:t}),getPortfolio:(e,t)=>s.get("/vendors/".concat(e,"/portfolio"),{params:t}),getReviews:(e,t)=>s.get("/vendors/".concat(e,"/reviews"),{params:t}),portfolioItems:e=>s.get("/vendors/".concat(e,"/portfolio_items"))},portfolioItems:{getAll:e=>s.get("/portfolio_items",{params:e}),getById:e=>s.get("/portfolio_items/".concat(e)),create:e=>s.post("/portfolio_items",e),update:(e,t)=>s.put("/portfolio_items/".concat(e),t),delete:e=>s.delete("/portfolio_items/".concat(e)),uploadImages:(e,t)=>{let r=new FormData;return t.forEach(e=>r.append("images[]",e)),s.post("/portfolio_items/".concat(e,"/upload_images"),r,{headers:{"Content-Type":"multipart/form-data"}})},removeImage:(e,t)=>s.delete("/portfolio_items/".concat(e,"/remove_image/").concat(t)),duplicate:e=>s.post("/portfolio_items/".concat(e,"/duplicate")),summary:()=>s.get("/portfolio_items/summary"),reorder:e=>s.post("/portfolio_items/reorder",e),setFeatured:e=>s.patch("/portfolio_items/set_featured",e)},bookings:{getAll:e=>s.get("/bookings",{params:e}),getById:e=>s.get("/bookings/".concat(e)),create:e=>s.post("/bookings",e),update:(e,t)=>s.put("/bookings/".concat(e),t),delete:e=>s.delete("/bookings/".concat(e)),respond:(e,t)=>s.post("/bookings/".concat(e,"/respond"),t),messages:e=>s.get("/bookings/".concat(e,"/messages")),sendMessage:(e,t)=>s.post("/bookings/".concat(e,"/send_message"),t)},availabilitySlots:{getAll:e=>s.get("/availability_slots",{params:e}),create:e=>s.post("/availability_slots",e),update:(e,t)=>s.put("/availability_slots/".concat(e),t),delete:e=>s.delete("/availability_slots/".concat(e)),bulkCreate:e=>s.post("/availability_slots/bulk_create",e),checkConflicts:e=>s.get("/availability_slots/check_conflicts",{params:e})}};t.Z=s},4705:function(e,t,r){"use strict";r.d(t,{AppProvider:function(){return c}});var o=r(7437),a=r(2265);let s={notifications:[],loading:!1,error:null,searchFilters:{category:"",location:"",priceRange:{min:0,max:1e4},availability:null},selectedService:null,bookingData:null},n={SET_LOADING:"SET_LOADING",SET_ERROR:"SET_ERROR",CLEAR_ERROR:"CLEAR_ERROR",ADD_NOTIFICATION:"ADD_NOTIFICATION",REMOVE_NOTIFICATION:"REMOVE_NOTIFICATION",CLEAR_NOTIFICATIONS:"CLEAR_NOTIFICATIONS",SET_SEARCH_FILTERS:"SET_SEARCH_FILTERS",CLEAR_SEARCH_FILTERS:"CLEAR_SEARCH_FILTERS",SET_SELECTED_SERVICE:"SET_SELECTED_SERVICE",SET_BOOKING_DATA:"SET_BOOKING_DATA",CLEAR_BOOKING_DATA:"CLEAR_BOOKING_DATA"},l=(e,t)=>{switch(t.type){case n.SET_LOADING:return{...e,loading:t.payload};case n.SET_ERROR:return{...e,error:t.payload,loading:!1};case n.CLEAR_ERROR:return{...e,error:null};case n.ADD_NOTIFICATION:return{...e,notifications:[...e.notifications,t.payload]};case n.REMOVE_NOTIFICATION:return{...e,notifications:e.notifications.filter(e=>e.id!==t.payload)};case n.CLEAR_NOTIFICATIONS:return{...e,notifications:[]};case n.SET_SEARCH_FILTERS:return{...e,searchFilters:{...e.searchFilters,...t.payload}};case n.CLEAR_SEARCH_FILTERS:return{...e,searchFilters:s.searchFilters};case n.SET_SELECTED_SERVICE:return{...e,selectedService:t.payload};case n.SET_BOOKING_DATA:return{...e,bookingData:t.payload};case n.CLEAR_BOOKING_DATA:return{...e,bookingData:null};default:return e}},i=(0,a.createContext)(),c=e=>{let{children:t}=e,[r,c]=(0,a.useReducer)(l,s),u=e=>{c({type:n.REMOVE_NOTIFICATION,payload:e})},d={...r,setLoading:e=>{c({type:n.SET_LOADING,payload:e})},setError:e=>{c({type:n.SET_ERROR,payload:e})},clearError:()=>{c({type:n.CLEAR_ERROR})},addNotification:e=>{let t=Date.now().toString(),r={...e,id:t};return c({type:n.ADD_NOTIFICATION,payload:r}),setTimeout(()=>{u(t)},5e3),t},removeNotification:u,clearNotifications:()=>{c({type:n.CLEAR_NOTIFICATIONS})},setSearchFilters:e=>{c({type:n.SET_SEARCH_FILTERS,payload:e})},clearSearchFilters:()=>{c({type:n.CLEAR_SEARCH_FILTERS})},setSelectedService:e=>{c({type:n.SET_SELECTED_SERVICE,payload:e})},setBookingData:e=>{c({type:n.SET_BOOKING_DATA,payload:e})},clearBookingData:()=>{c({type:n.CLEAR_BOOKING_DATA})}};return(0,o.jsx)(i.Provider,{value:d,children:t})}},876:function(e,t,r){"use strict";r.d(t,{AuthProvider:function(){return d},a:function(){return E}});var o=r(7437),a=r(2265),s=r(2617),n=r(1362);let l={user:null,token:null,isAuthenticated:!1,isLoading:!0,error:null},i={LOGIN_START:"LOGIN_START",LOGIN_SUCCESS:"LOGIN_SUCCESS",LOGIN_FAILURE:"LOGIN_FAILURE",LOGOUT:"LOGOUT",REGISTER_START:"REGISTER_START",REGISTER_SUCCESS:"REGISTER_SUCCESS",REGISTER_FAILURE:"REGISTER_FAILURE",LOAD_USER_START:"LOAD_USER_START",LOAD_USER_SUCCESS:"LOAD_USER_SUCCESS",LOAD_USER_FAILURE:"LOAD_USER_FAILURE",CLEAR_ERROR:"CLEAR_ERROR"},c=(e,t)=>{switch(t.type){case i.LOGIN_START:case i.REGISTER_START:case i.LOAD_USER_START:return{...e,isLoading:!0,error:null};case i.LOGIN_SUCCESS:case i.REGISTER_SUCCESS:return{...e,user:t.payload.user,token:t.payload.token,isAuthenticated:!0,isLoading:!1,error:null};case i.LOAD_USER_SUCCESS:return{...e,user:t.payload,isAuthenticated:!0,isLoading:!1,error:null};case i.LOGIN_FAILURE:case i.REGISTER_FAILURE:case i.LOAD_USER_FAILURE:return{...e,user:null,token:null,isAuthenticated:!1,isLoading:!1,error:t.payload};case i.LOGOUT:return{...e,user:null,token:null,isAuthenticated:!1,isLoading:!1,error:null};case i.CLEAR_ERROR:return{...e,error:null};default:return e}},u=(0,a.createContext)(),d=e=>{let{children:t}=e,[r,d]=(0,a.useReducer)(c,l);(0,a.useEffect)(()=>{let e=n.G.getToken(),t=n.G.getUser();e&&t&&!n.G.isTokenExpired()?d({type:i.LOAD_USER_SUCCESS,payload:t}):(n.G.clearAuthData(),d({type:i.LOAD_USER_FAILURE,payload:null}))},[]);let E=async e=>{d({type:i.LOGIN_START});try{let t=e.auth?e:{auth:e},{user:r,token:o,refresh_token:a}=(await s.E.auth.login(t)).data;return n.G.setToken(o),n.G.setUser(r),a&&n.G.setRefreshToken(a),d({type:i.LOGIN_SUCCESS,payload:{user:r,token:o}}),{success:!0}}catch(s){var t,r,o,a;let e=(null===(r=s.response)||void 0===r?void 0:null===(t=r.data)||void 0===t?void 0:t.error)||(null===(a=s.response)||void 0===a?void 0:null===(o=a.data)||void 0===o?void 0:o.message)||"Login failed";return d({type:i.LOGIN_FAILURE,payload:e}),{success:!1,error:e}}},p=async e=>{d({type:i.REGISTER_START});try{let t=e.auth?e:{auth:e},{user:r,token:o,refresh_token:a,message:l}=(await s.E.auth.register(t)).data;return o?(n.G.setToken(o),n.G.setUser(r),a&&n.G.setRefreshToken(a),d({type:i.REGISTER_SUCCESS,payload:{user:r,token:o}})):d({type:i.REGISTER_SUCCESS,payload:{user:r||null,token:null}}),{success:!0,message:l||"Registration successful",user:r}}catch(s){var t,r,o,a,l,c,u;let e=(null===(r=s.response)||void 0===r?void 0:null===(t=r.data)||void 0===t?void 0:t.error)||(null===(a=s.response)||void 0===a?void 0:null===(o=a.data)||void 0===o?void 0:o.message)||(null===(u=s.response)||void 0===u?void 0:null===(c=u.data)||void 0===c?void 0:null===(l=c.details)||void 0===l?void 0:l.join(", "))||"Registration failed";return d({type:i.REGISTER_FAILURE,payload:e}),{success:!1,error:e}}},_=async()=>{try{await s.E.auth.logout()}catch(e){console.error("Logout error:",e)}finally{n.G.clearAuthData(),d({type:i.LOGOUT})}},R={...r,login:E,register:p,logout:_,clearError:()=>{d({type:i.CLEAR_ERROR})}};return(0,o.jsx)(u.Provider,{value:R,children:t})},E=()=>{let e=(0,a.useContext)(u);if(!e)throw Error("useAuth must be used within an AuthProvider");return e}},1362:function(e,t,r){"use strict";r.d(t,{G:function(){return l}});let o="authToken",a="user",s="refreshToken";class n{getToken(){return localStorage.getItem(o)}setToken(e){e?localStorage.setItem(o,e):localStorage.removeItem(o)}getUser(){let e=localStorage.getItem(a);try{return e?JSON.parse(e):null}catch(e){return console.error("Error parsing stored user:",e),this.removeUser(),null}}setUser(e){e?localStorage.setItem(a,JSON.stringify(e)):localStorage.removeItem(a)}removeUser(){localStorage.removeItem(a)}getRefreshToken(){return localStorage.getItem(s)}setRefreshToken(e){e?localStorage.setItem(s,e):localStorage.removeItem(s)}clearAuthData(){localStorage.removeItem(o),localStorage.removeItem(a),localStorage.removeItem(s)}hasToken(){return!!this.getToken()}isTokenExpired(){let e=this.getToken();if(!e)return!0;try{let t=JSON.parse(atob(e.split(".")[1])),r=Date.now()/1e3;return t.exp<r}catch(e){return console.error("Error checking token expiration:",e),!0}}getTokenPayload(){let e=this.getToken();if(!e)return null;try{return JSON.parse(atob(e.split(".")[1]))}catch(e){return console.error("Error decoding token payload:",e),null}}}let l=new n},6050:function(){},7602:function(e){e.exports={style:{fontFamily:"'__Plus_Jakarta_Sans_646807', '__Plus_Jakarta_Sans_Fallback_646807'",fontStyle:"normal"},className:"__className_646807",variable:"__variable_646807"}}},function(e){e.O(0,[704,387,464,438,971,117,744],function(){return e(e.s=113)}),_N_E=e.O()}]);