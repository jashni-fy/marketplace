(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[766],{8873:function(e,t,s){Promise.resolve().then(s.bind(s,9385))},9385:function(e,t,s){"use strict";var r=s(7437),a=s(2265),o=s(2617);t.default=e=>{let{params:t}=e,[s,l]=(0,a.useState)(null),[i,n]=(0,a.useState)([]),[c,d]=(0,a.useState)([]),[m,g]=(0,a.useState)([]),[p,u]=(0,a.useState)(!0),[x,h]=(0,a.useState)(null),[v,f]=(0,a.useState)("services");(0,a.useEffect)(()=>{b()},[t.id]);let b=async()=>{try{u(!0);let e=await o.E.vendors.getById(t.id);l(e.data.vendor);let s=await o.E.vendors.getServices(t.id);n(s.data.services);let r=await o.E.vendors.getPortfolio(t.id);d(r.data.portfolio_items);let a=await o.E.vendors.getReviews(t.id);g(a.data.reviews)}catch(e){console.error("Error loading vendor data:",e),h("Failed to load vendor profile")}finally{u(!1)}};if(p)return(0,r.jsx)("div",{className:"min-h-screen flex items-center justify-center",children:(0,r.jsxs)("div",{className:"text-center",children:[(0,r.jsx)("div",{className:"animate-spin rounded-full h-32 w-32 border-b-2 border-blue-500 mx-auto mb-4"}),(0,r.jsx)("p",{className:"text-gray-600",children:"Loading..."})]})});if(x||!s)return(0,r.jsx)("div",{className:"min-h-screen flex items-center justify-center",children:(0,r.jsxs)("div",{className:"text-center",children:[(0,r.jsx)("h1",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Vendor Not Found"}),(0,r.jsx)("p",{className:"text-gray-600",children:x||"The vendor profile you are looking for does not exist."})]})});let y=e=>{let t=[],s=Math.floor(e);for(let e=0;e<s;e++)t.push((0,r.jsx)("span",{className:"text-yellow-400",children:"★"},e));e%1!=0&&t.push((0,r.jsx)("span",{className:"text-yellow-400",children:"☆"},"half"));let a=5-Math.ceil(e);for(let e=0;e<a;e++)t.push((0,r.jsx)("span",{className:"text-gray-300",children:"★"},"empty-".concat(e)));return t};return(0,r.jsx)("div",{className:"vendor-profile",children:(0,r.jsxs)("div",{className:"container mx-auto px-4 py-8",children:[(0,r.jsx)("div",{className:"bg-white p-8 rounded-lg shadow-md mb-8",children:(0,r.jsxs)("div",{className:"flex flex-col md:flex-row md:items-start md:justify-between",children:[(0,r.jsxs)("div",{className:"flex-1",children:[(0,r.jsxs)("div",{className:"flex items-center mb-4",children:[(0,r.jsx)("h1",{className:"text-3xl font-bold mr-4",children:s.business_name}),s.is_verified&&(0,r.jsx)("span",{className:"bg-green-100 text-green-800 text-sm font-medium px-2.5 py-0.5 rounded",children:"✓ Verified"})]}),(0,r.jsxs)("div",{className:"flex items-center mb-4",children:[(0,r.jsxs)("div",{className:"flex items-center mr-4",children:[y(parseFloat(s.average_rating)),(0,r.jsxs)("span",{className:"ml-2 text-gray-600",children:[s.average_rating," (",s.total_reviews," reviews)"]})]}),(0,r.jsx)("span",{className:"text-gray-500",children:"•"}),(0,r.jsxs)("span",{className:"ml-2 text-gray-600",children:[s.years_experience," years experience"]})]}),(0,r.jsx)("p",{className:"text-gray-600 mb-4",children:s.description}),(0,r.jsx)("div",{className:"flex flex-wrap gap-2 mb-4",children:s.service_categories.map((e,t)=>(0,r.jsx)("span",{className:"bg-blue-100 text-blue-800 text-sm font-medium px-2.5 py-0.5 rounded",children:e},t))}),(0,r.jsxs)("div",{className:"flex flex-col sm:flex-row sm:items-center gap-4 text-sm text-gray-500",children:[(0,r.jsxs)("span",{children:["\uD83D\uDCCD ",s.location]}),s.phone&&(0,r.jsxs)("span",{children:["\uD83D\uDCDE ",s.phone]}),s.website&&(0,r.jsx)("a",{href:s.website,target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:underline",children:"\uD83C\uDF10 Website"})]})]}),(0,r.jsx)("div",{className:"mt-6 md:mt-0 md:ml-8",children:(0,r.jsx)("button",{className:"w-full md:w-auto bg-blue-600 text-white px-6 py-3 rounded-lg hover:bg-blue-700 font-medium",children:"Contact Vendor"})})]})}),s.featured_portfolio.length>0&&(0,r.jsxs)("div",{className:"bg-white p-8 rounded-lg shadow-md mb-8",children:[(0,r.jsx)("h2",{className:"text-2xl font-bold mb-6",children:"Featured Work"}),(0,r.jsx)("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-6 gap-4",children:s.featured_portfolio.map(e=>(0,r.jsx)("div",{className:"aspect-square rounded-lg overflow-hidden",children:e.primary_image_url?(0,r.jsx)("img",{src:e.primary_image_url,alt:e.title,className:"w-full h-full object-cover hover:scale-105 transition-transform cursor-pointer"}):(0,r.jsx)("div",{className:"w-full h-full bg-gray-200 flex items-center justify-center",children:(0,r.jsx)("span",{className:"text-gray-400",children:"No Image"})})},e.id))})]}),(0,r.jsxs)("div",{className:"bg-white rounded-lg shadow-md mb-8",children:[(0,r.jsx)("div",{className:"border-b border-gray-200",children:(0,r.jsxs)("nav",{className:"flex space-x-8 px-8",children:[(0,r.jsxs)("button",{onClick:()=>f("services"),className:"py-4 px-1 border-b-2 font-medium text-sm ".concat("services"===v?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"),children:["Services (",i.length,")"]}),(0,r.jsxs)("button",{onClick:()=>f("portfolio"),className:"py-4 px-1 border-b-2 font-medium text-sm ".concat("portfolio"===v?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"),children:["Portfolio (",c.length,")"]}),(0,r.jsxs)("button",{onClick:()=>f("reviews"),className:"py-4 px-1 border-b-2 font-medium text-sm ".concat("reviews"===v?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"),children:["Reviews (",s.total_reviews,")"]})]})}),(0,r.jsxs)("div",{className:"p-8",children:["services"===v&&(0,r.jsx)("div",{children:i.length>0?(0,r.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:i.map(e=>(0,r.jsxs)("div",{className:"border border-gray-200 p-6 rounded-lg hover:shadow-md transition-shadow",children:[e.primary_image_url&&(0,r.jsx)("img",{src:e.primary_image_url,alt:e.name,className:"w-full h-48 object-cover rounded-lg mb-4"}),(0,r.jsx)("div",{className:"mb-2",children:(0,r.jsx)("span",{className:"text-xs font-medium text-blue-600 bg-blue-50 px-2 py-1 rounded",children:e.category.name})}),(0,r.jsx)("h3",{className:"text-xl font-semibold mb-2",children:e.name}),(0,r.jsx)("p",{className:"text-gray-600 mb-4 line-clamp-3",children:e.description}),(0,r.jsxs)("div",{className:"flex justify-between items-center",children:[(0,r.jsx)("span",{className:"text-lg font-bold text-green-600",children:e.formatted_price}),(0,r.jsx)("button",{className:"bg-blue-600 text-white px-4 py-2 rounded hover:bg-blue-700",children:"Book Now"})]})]},e.id))}):(0,r.jsx)("p",{className:"text-gray-600 text-center py-8",children:"No services available at the moment."})}),"portfolio"===v&&(0,r.jsx)("div",{children:c.length>0?(0,r.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:c.map(e=>(0,r.jsxs)("div",{className:"border border-gray-200 rounded-lg overflow-hidden hover:shadow-md transition-shadow",children:[e.primary_image_url?(0,r.jsx)("img",{src:e.primary_image_url,alt:e.title,className:"w-full h-64 object-cover"}):(0,r.jsx)("div",{className:"w-full h-64 bg-gray-200 flex items-center justify-center",children:(0,r.jsx)("span",{className:"text-gray-400",children:"No Image"})}),(0,r.jsxs)("div",{className:"p-4",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,r.jsx)("span",{className:"text-xs font-medium text-purple-600 bg-purple-50 px-2 py-1 rounded",children:e.category}),e.is_featured&&(0,r.jsx)("span",{className:"text-xs font-medium text-yellow-600 bg-yellow-50 px-2 py-1 rounded",children:"Featured"})]}),(0,r.jsx)("h3",{className:"font-semibold mb-2",children:e.title}),(0,r.jsx)("p",{className:"text-gray-600 text-sm line-clamp-2",children:e.description}),e.image_count>1&&(0,r.jsxs)("p",{className:"text-xs text-gray-500 mt-2",children:["+",e.image_count-1," more images"]})]})]},e.id))}):(0,r.jsx)("p",{className:"text-gray-600 text-center py-8",children:"No portfolio items available."})}),"reviews"===v&&(0,r.jsx)("div",{children:m.length>0?(0,r.jsx)("div",{className:"space-y-6",children:m.map((e,t)=>(0,r.jsxs)("div",{className:"border-b border-gray-200 pb-6 last:border-b-0",children:[(0,r.jsxs)("div",{className:"flex items-center mb-2",children:[(0,r.jsx)("div",{className:"flex items-center",children:y(e.rating)}),(0,r.jsx)("span",{className:"ml-2 font-medium",children:e.customer_name}),(0,r.jsx)("span",{className:"ml-2 text-gray-500 text-sm",children:e.date})]}),(0,r.jsx)("p",{className:"text-gray-700",children:e.comment})]},t))}):(0,r.jsxs)("div",{className:"text-center py-8",children:[(0,r.jsx)("p",{className:"text-gray-600 mb-4",children:"No reviews yet."}),(0,r.jsx)("p",{className:"text-sm text-gray-500",children:"Be the first to leave a review for this vendor!"})]})})]})]})]})})}},2617:function(e,t,s){"use strict";s.d(t,{E:function(){return l}});var r=s(3464),a=s(1362);let o=r.Z.create({baseURL:"/api",headers:{"Content-Type":"application/json"}});o.interceptors.request.use(e=>{let t=a.G.getToken();return t&&!a.G.isTokenExpired()&&(e.headers.Authorization="Bearer ".concat(t)),e},e=>Promise.reject(e)),o.interceptors.response.use(e=>e,e=>{var t;return(null===(t=e.response)||void 0===t?void 0:t.status)===401&&(a.G.clearAuthData(),window.location.href="/login"),Promise.reject(e)});let l={auth:{login:e=>o.post("/auth/login",e),register:e=>o.post("/auth/register",e),logout:()=>o.delete("/auth/logout")},users:{getById:e=>o.get("/users/".concat(e)),update:(e,t)=>o.put("/users/".concat(e),t),uploadAvatar:(e,t)=>{let s=new FormData;return s.append("avatar",t),o.post("/users/".concat(e,"/upload_avatar"),s,{headers:{"Content-Type":"multipart/form-data"}})}},profiles:{me:()=>o.get("/profiles/me"),serviceCategories:()=>o.get("/profiles/service_categories"),getById:e=>o.get("/profiles/".concat(e)),create:e=>o.post("/profiles",e),update:(e,t)=>o.put("/profiles/".concat(e),t),delete:e=>o.delete("/profiles/".concat(e))},services:{getAll:e=>o.get("/services",{params:e}),getById:e=>o.get("/services/".concat(e)),create:e=>o.post("/services",e),update:(e,t)=>o.put("/services/".concat(e),t),delete:e=>o.delete("/services/".concat(e)),search:e=>o.get("/services/search",{params:e}),images:{list:e=>o.get("/services/".concat(e,"/images")),upload:(e,t)=>{let s=new FormData;return s.append("image",t),o.post("/services/".concat(e,"/images"),s,{headers:{"Content-Type":"multipart/form-data"}})},reorder:(e,t)=>o.post("/services/".concat(e,"/images/reorder"),t),bulkUpload:(e,t)=>{let s=new FormData;return t.forEach(e=>s.append("images[]",e)),o.post("/services/".concat(e,"/images/bulk_upload"),s,{headers:{"Content-Type":"multipart/form-data"}})},setPrimary:(e,t)=>o.post("/services/".concat(e,"/images/").concat(t,"/set_primary")),delete:(e,t)=>o.delete("/services/".concat(e,"/images/").concat(t))}},vendors:{getAll:e=>o.get("/vendors",{params:e}),getById:e=>o.get("/vendors/".concat(e)),getServices:e=>o.get("/vendors/".concat(e,"/services")),getAvailability:(e,t)=>o.get("/vendors/".concat(e,"/availability"),{params:t}),getPortfolio:(e,t)=>o.get("/vendors/".concat(e,"/portfolio"),{params:t}),getReviews:(e,t)=>o.get("/vendors/".concat(e,"/reviews"),{params:t}),portfolioItems:e=>o.get("/vendors/".concat(e,"/portfolio_items"))},portfolioItems:{getAll:e=>o.get("/portfolio_items",{params:e}),getById:e=>o.get("/portfolio_items/".concat(e)),create:e=>o.post("/portfolio_items",e),update:(e,t)=>o.put("/portfolio_items/".concat(e),t),delete:e=>o.delete("/portfolio_items/".concat(e)),uploadImages:(e,t)=>{let s=new FormData;return t.forEach(e=>s.append("images[]",e)),o.post("/portfolio_items/".concat(e,"/upload_images"),s,{headers:{"Content-Type":"multipart/form-data"}})},removeImage:(e,t)=>o.delete("/portfolio_items/".concat(e,"/remove_image/").concat(t)),duplicate:e=>o.post("/portfolio_items/".concat(e,"/duplicate")),summary:()=>o.get("/portfolio_items/summary"),reorder:e=>o.post("/portfolio_items/reorder",e),setFeatured:e=>o.patch("/portfolio_items/set_featured",e)},bookings:{getAll:e=>o.get("/bookings",{params:e}),getById:e=>o.get("/bookings/".concat(e)),create:e=>o.post("/bookings",e),update:(e,t)=>o.put("/bookings/".concat(e),t),delete:e=>o.delete("/bookings/".concat(e)),respond:(e,t)=>o.post("/bookings/".concat(e,"/respond"),t),messages:e=>o.get("/bookings/".concat(e,"/messages")),sendMessage:(e,t)=>o.post("/bookings/".concat(e,"/send_message"),t)},availabilitySlots:{getAll:e=>o.get("/availability_slots",{params:e}),create:e=>o.post("/availability_slots",e),update:(e,t)=>o.put("/availability_slots/".concat(e),t),delete:e=>o.delete("/availability_slots/".concat(e)),bulkCreate:e=>o.post("/availability_slots/bulk_create",e),checkConflicts:e=>o.get("/availability_slots/check_conflicts",{params:e})}};t.Z=o},1362:function(e,t,s){"use strict";s.d(t,{G:function(){return i}});let r="authToken",a="user",o="refreshToken";class l{getToken(){return localStorage.getItem(r)}setToken(e){e?localStorage.setItem(r,e):localStorage.removeItem(r)}getUser(){let e=localStorage.getItem(a);try{return e?JSON.parse(e):null}catch(e){return console.error("Error parsing stored user:",e),this.removeUser(),null}}setUser(e){e?localStorage.setItem(a,JSON.stringify(e)):localStorage.removeItem(a)}removeUser(){localStorage.removeItem(a)}getRefreshToken(){return localStorage.getItem(o)}setRefreshToken(e){e?localStorage.setItem(o,e):localStorage.removeItem(o)}clearAuthData(){localStorage.removeItem(r),localStorage.removeItem(a),localStorage.removeItem(o)}hasToken(){return!!this.getToken()}isTokenExpired(){let e=this.getToken();if(!e)return!0;try{let t=JSON.parse(atob(e.split(".")[1])),s=Date.now()/1e3;return t.exp<s}catch(e){return console.error("Error checking token expiration:",e),!0}}getTokenPayload(){let e=this.getToken();if(!e)return null;try{return JSON.parse(atob(e.split(".")[1]))}catch(e){return console.error("Error decoding token payload:",e),null}}}let i=new l}},function(e){e.O(0,[464,971,117,744],function(){return e(e.s=8873)}),_N_E=e.O()}]);